<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>booth example</title>

    <style type="text/css">
      body {
        font-family: sans-serif;
      }
    </style>
  </head>

  <body>
    <h1>the power of navigator.getUserMedia() to take base64 pics!</h1>

    <button id="smile">smile</button>
    <br/>

    <script type="text/javascript" src="booth.js"></script>

    <script type="text/javascript">
      (function() {
        'use strict';

        var api = booth({
          dims: [160, 120],
          onReadyFail: function(err) {
            if (err) { console.log(err); window.alert(err); }
          }
        });

        document.getElementById('smile').addEventListener('click', function() {
          if (api.isReady()) {
            var imgB64 = api.takePicture();
            //console.log(imgB64);
            //console.log(imgB64.length);
            var imgEl = document.createElement('img');
            imgEl.src = imgB64;
            document.body.appendChild(imgEl);
          }
          else {
            window.alert('please accept the notification first');
          }
        });

      })();
    </script>
  </body>
</html>
